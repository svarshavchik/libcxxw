<?xml version="1.0" encoding="utf-8"?>
<theme version="1"
       xmlns:xi="http://www.w3.org/2003/XInclude">

  <dim id="none">0</dim>

  <layout type="menubar" id="mainmenubar">
    <append_menus>
      <name>mainmenu</name>
    </append_menus>
    <append_right_menus>
      <name>help</name>
    </append_right_menus>
  </layout>

  <factory type="menubar" id="mainmenu">

    <add id="file_menu">
      <title>
	<element>
	  <label type="theme_text">${context:creator-menu}${decoration:underline}F${decoration:none}ile</label>
	</element>
      </title>
      <shortcut type="theme_text">${context:creator-menu}Alt-F</shortcut>

      <menu>
	<append_items>
	  <items>
	    <name>file_new</name>
	    <shortcut type="theme_text">${context:creator-menu}Alt-N</shortcut>
	    <label type="theme_text">${context:creator-menu}New</label>
	    <name>file_open</name>
	    <shortcut type="theme_text">${context:creator-menu}Alt-O</shortcut>
	    <label type="theme_text">${context:creator-menu}Open</label>
	    <name>file_save</name>
	    <shortcut type="theme_text">${context:creator-menu}Alt-S</shortcut>
	    <label type="theme_text">${context:creator-menu}Save</label>
	    <name>file_save_as</name>
	    <label type="theme_text">${context:creator-menu}Save As...</label>
	    <separator />
	    <name>file_quit</name>
	    <shortcut type="theme_text">${context:creator-menu}Alt-Q</shortcut>
	    <label type="theme_text">${context:creator-menu}Quit</label>
	  </items>
	</append_items>
      </menu>
    </add>
  </factory>

  <factory type="menubar" id="help">

    <add>
      <title>
	<element>
	  <label type="theme_text">${context:creator-menu}${decoration:underline}H${decoration:none}elp</label>
	</element>
      </title>
      <shortcut type="theme_text">${context:creator-menu}Alt-H</shortcut>

      <menu>
	<append_items>
	  <items>
	    <name>help_about</name>
	    <shortcut type="theme_text">${context:creator-menu}F1</shortcut>
	    <label type="theme_text">${context:creator-menu}About</label>
	  </items>
	</append_items>
      </menu>
    </add>
  </factory>

  <layout type="grid" id="main">
    <append_row>
      <name>main_row</name>
    </append_row>
    <append_row>
      <name>status_row</name>
    </append_row>
  </layout>

  <factory type="grid" id="status_row">
    <element id="status">
      <label type='theme_text'>Welcome to LibCXXW UI Creator</label>
    </element>
  </factory>

  <factory type="grid" id="main_row">
    <container>
      <type>book</type>
      <name>main_tabs</name>
    </container>
  </factory>

  <layout type="book" id="main_tabs">
    <append_pages>
      <name>initial_contents</name>
    </append_pages>
    <open>
      <page>0</page>
    </open>
  </layout>

  <factory type="bookpage" id="initial_contents">
    <add>
      <tab>
	<element>
	  <label type='theme_text'>${context:creator-main}${decoration:underline}D${decoration:none}imensions</label>
	</element>
      </tab>
      <shortcut type="theme_text">${context:creator-main}Alt-D</shortcut>
      <page>
	<container>
	  <type>grid</type>
	  <name>dimensions_page</name>
	</container>
      </page>
    </add>
    <add>
      <tab>
	<element>
	  <label type='theme_text'>${context:creator-main}${decoration:underline}C${decoration:none}olors</label>
	</element>
      </tab>
      <shortcut type="theme_text">${context:creator-main}Alt-C</shortcut>
      <page>
	<container>
	  <type>grid</type>
	  <name>colors_page</name>
	</container>
      </page>
    </add>
    <add>
      <tab>
	<element>
	  <label type='theme_text'>${context:creator-main}${decoration:underline}B${decoration:none}orders</label>
	</element>
      </tab>
      <shortcut type="theme_text">${context:creator-main}Alt-B</shortcut>
      <page>
	<container>
	  <type>grid</type>
	  <name>borders_page</name>
	</container>
      </page>
    </add>
    <add>
      <tab>
	<element>
	  <label type='theme_text'>${context:creator-main}Fon${decoration:underline}t${decoration:none}s</label>
	</element>
      </tab>
      <shortcut type="theme_text">${context:creator-main}Alt-T</shortcut>
      <page>
	<container>
	  <type>grid</type>
	  <name>fonts_page</name>
	</container>
      </page>
    </add>
    <add>
      <tab>
	<element>
	  <label type='theme_text'>${context:creator-main}${decoration:underline}A${decoration:none}ppearances</label>
	</element>
      </tab>
      <shortcut type="theme_text">${context:creator-main}Alt-A</shortcut>
      <page>
	<container>
	  <type>grid</type>
	  <name>appearances_page</name>
	</container>
      </page>
    </add>
    <add>
      <tab>
	<element>
	  <label type='theme_text'>${context:creator-main}${decoration:underline}G${decoration:none}enerators</label>
	</element>
      </tab>
      <shortcut type="theme_text">${context:creator-main}Alt-G</shortcut>
      <page>
	<container>
	  <type>grid</type>
	  <name>generators_page</name>
	</container>
      </page>
    </add>
  </factory>

  <!-- Dimensions page -->

  <layout type="grid" id="dimensions_page">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>3</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>dimension_name_row</name>
    </append_row>
    <append_row>
      <name>new_dimension_name_row</name>
    </append_row>
    <append_row>
      <name>dimension_value_row</name>
    </append_row>
    <append_row>
      <name>dimension_buttons_row</name>
    </append_row>
  </layout>

  <factory type="grid" id="dimension_name_row">
    <halign>right</halign>
    <element>
      <label type='theme_text'>${context:dimension}Name:</label>
    </element>
    <container>
      <name>dimension_name_field</name>
      <type>standard_combobox</type>
    </container>
  </factory>

  <layout id="dimension_name_field" type="standard_combobox" />

  <factory type="grid" id="new_dimension_name_row">
    <halign>right</halign>
    <element id="dimension_new_name_label">
      <label type='theme_text'>${context:dimension}New name:</label>
    </element>
    <element id="dimension_new_name_field">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
  </factory>

  <factory type="grid" id="dimension_value_row">
    <element>
      <canvas/>
    </element>
    <padding>
      <side>all</side>
      <padding>none</padding>
    </padding>
    <container tooltip="dimension-value-tooltip">
      <type>grid</type>
      <name>dimension_value_grid</name>
    </container>
  </factory>

  <layout type="grid" id="dimension_value_grid">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>dimension_mm_row</name>
    </append_row>

    <append_row>
      <name>dimension_scale_row</name>
    </append_row>
  </layout>

  <factory type="grid" id="dimension_mm_row">
    <element id="dimension_value_option_field">
      <radio>
	<element>
	  <label type="theme_text">${context:dimension}Mm:</label>
	</element>
      </radio>
      <group>dimension-type-group</group>
    </element>
    <colspan>
      <columns>3</columns>
    </colspan>
    <element id="dimension_value_field">
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <tooltip type="label" id="dimension-value-tooltip">
    <label type="theme_text">Specify the size in millimeters,&#10;or "inf" for an infinitely large size&#10;&#10;Alternatively: a scaled multiple&#10;of another size&#10;</label>
  </tooltip>

  <factory type="grid" id="dimension_scale_row">
    <element id="dimension_scale_option_field">
      <radio>
	<element>
	  <label type="theme_text">${context:dimension}Scale:</label>
	</element>
      </radio>
      <group>dimension-type-group</group>
    </element>
    <container>
      <name>dimension_from_name_field</name>
      <type>standard_combobox</type>
    </container>
    <element>
      <label>*</label>
    </element>
    <element id="dimension_scale_value_field">
      <input_field />
      <config>
	<columns>5</columns>
      </config>
    </element>
  </factory>

  <layout id="dimension_from_name_field" type="standard_combobox" />

  <factory type="grid" id="dimension_buttons_row">
    <halign>center</halign>
    <padding>
      <side>top</side>
      <padding>none</padding>
    </padding>
    <padding>
      <side>bottom</side>
      <padding>none</padding>
    </padding>
    <colspan>
      <columns>2</columns>
    </colspan>
    <halign>center</halign>
    <container>
      <name>dimensions_buttons_container</name>
      <type>grid</type>
    </container>
  </factory>

  <layout type="grid" id="dimensions_buttons_container">
    <append_row>
      <name>dimension_buttons</name>
    </append_row>
  </layout>

  <factory type="grid" id="dimension_buttons">
    <element id="dimension_update_button">
      <button>
	<element>
	  <label type="theme_text">${context:dimension}${decoration:underline}U${decoration:none}pdate</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:dimension}Alt-U</shortcut>
    </element>
    <element id="dimension_reset_button">
      <button>
	<element>
	  <label type="theme_text">${context:dimension}${decoration:underline}R${decoration:none}eset</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:dimension}Alt-R</shortcut>
    </element>
    <element id="dimension_delete_button">
      <button>
	<element>
	  <label type="theme_text">${context:dimension}D${decoration:underline}e${decoration:none}lete</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:dimension}Alt-E</shortcut>
    </element>
  </factory>

  <!-- Colors page -->

  <!-- Divide into top and main section, vertically stacked -->
  <layout type="grid" id="colors_page">
    <append_row>
      <name>colors-top-row</name>
    </append_row>
    <append_row>
      <name>colors-main-row</name>
    </append_row>
    <append_row>
      <name>colors-bottom-row</name>
    </append_row>
  </layout>

  <!-- Top section, a container with name and new name inputs -->

  <factory type="grid" id="colors-top-row">
    <halign>center</halign>
    <colspan>
      <columns>2</columns>
    </colspan>
    <container>
      <type>grid</type>
      <name>colors-top-row-container</name>
    </container>
  </factory>

  <layout type="grid" id="colors-top-row-container">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>color-name-row</name>
    </append_row>
    <append_row>
      <name>new-color-name-row</name>
    </append_row>
  </layout>

  <factory type="grid" id="color-name-row">
    <halign>right</halign>
    <element>
      <label type='theme_text'>${context:creator}Name:</label>
    </element>
    <container>
      <name>color-name-field</name>
      <type>standard_combobox</type>
    </container>
  </factory>

  <layout id="color-name-field" type="standard_combobox" />

  <factory type="grid" id="new-color-name-row">
    <halign>right</halign>
    <element id="color-new-name-label">
      <label type='theme_text'>${context:creator}New name:</label>
    </element>
    <element id="color-new-name-field">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
  </factory>

  <!-- Main section: radio buttons on the left, open individual pages on the
       right
  -->

  <factory type="grid" id="colors-main-row">
    <halign>right</halign>
    <valign>middle</valign>
    <container>
      <type>grid</type>
      <name>color-left-side</name>
    </container>
    <padding>
      <side>left</side>
      <padding>color-type-padding</padding>
    </padding>
    <valign>middle</valign>
    <container>
      <type>page</type>
      <name>color-right-side-page</name>
    </container>
  </factory>

  <!-- Padding between radio buttons and the type -->

  <dim id="color-type-padding">10</dim>

  <layout type="grid" id="color-left-side">

    <!-- The left side has radio buttons and the color preview below it -->

    <append_row>
      <name>color-left-side-radio-buttons-grid</name>
    </append_row>

    <append_row>
      <name>color-left-side-preview-cell</name>
    </append_row>
  </layout>

  <!-- Radio button grid on the left side -->

  <factory type="grid" id="color-left-side-radio-buttons-grid">
    <padding>
      <side>all</side>
      <padding>none</padding>
    </padding>
    <halign>center</halign>
    <container>
      <type>grid</type>
      <name>color-left-side-radio-buttons</name>
    </container>
  </factory>

  <!-- Vertical list of radio buttons -->
  <layout type="grid" id="color-left-side-radio-buttons">
    <append_row>
      <name>color-basic-option-row</name>
    </append_row>
    <append_row>
      <name>color-scaled-option-row</name>
    </append_row>
    <append_row>
      <name>color-linear-gradient-option-row</name>
    </append_row>
    <append_row>
      <name>color-radial-gradient-option-row</name>
    </append_row>
  </layout>

  <!-- Basic color page -->
  <factory type="grid" id="color-basic-option-row">
    <element id="color-basic-option-radio">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}Basic Color</label>
	</element>
      </radio>
      <group>color-type-group</group>
    </element>
  </factory>

  <!-- Scaled color page -->
  <factory type="grid" id="color-scaled-option-row">
    <element id="color-scaled-option-radio">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}Scaled Color</label>
	</element>
      </radio>
      <group>color-type-group</group>
    </element>
  </factory>

  <!-- Linear gradient color page -->

  <factory type="grid" id="color-linear-gradient-option-row">
    <element id="color-linear-gradient-option-radio">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}Linear Gradient</label>
	</element>
      </radio>
      <group>color-type-group</group>
    </element>
  </factory>

  <!-- Radial gradient color page -->

  <factory type="grid" id="color-radial-gradient-option-row">
    <element id="color-radial-gradient-option-radio">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}Radial Gradient</label>
	</element>
      </radio>
      <group>color-type-group</group>
    </element>
  </factory>

  <dim id="color-preview-cell-canvas-width">20</dim>
  <dim id="color-preview-cell-canvas-height">20</dim>

  <factory type="grid" id="color-left-side-preview-cell">
    <padding>
      <side>left</side>
      <padding>none</padding>
    </padding>
    <padding>
      <side>right</side>
      <padding>none</padding>
    </padding>
    <padding>
      <side>top</side>
      <padding>color-type-padding</padding>
    </padding>
    <padding>
      <side>bottom</side>
      <padding>none</padding>
    </padding>
    <halign>center</halign>
    <container>
      <name>color-preview-cell-border-container</name>
      <type>border</type>
    </container>
  </factory>

  <layout type="border" id="color-preview-cell-border-container">
    <replace>color-preview-cell-border-container-factory</replace>
  </layout>

  <factory type="factory" id="color-preview-cell-border-container-factory">
    <element id="color-preview-cell-canvas">
      <canvas>
	<width>color-preview-cell-canvas-width</width>
	<height>color-preview-cell-canvas-height</height>
      </canvas>
    </element>
  </factory>

  <layout type="page" id="color-right-side-page">
    <append>
      <name>color-option-pages</name>
    </append>
  </layout>

  <factory type="page" id="color-option-pages">
    <element id="color-basic">
      <color_picker />
      <config>
	<enable_alpha_channel />
      </config>
    </element>

    <container>
      <type>grid</type>
      <name>color-scaled-page-contents</name>
    </container>

    <container>
      <type>grid</type>
      <name>color-linear-page-contents</name>
    </container>

    <container>
      <type>grid</type>
      <name>color-radial-page-contents</name>
    </container>
  </factory>

  <!-- Avoid hardcoding page numbers in the code -->

  <layout type="page" id="color-right-side-page-open-basic">
    <open>
      <position>0</position>
    </open>
  </layout>
  <layout type="page" id="color-right-side-page-open-scaled">
    <open>
      <position>1</position>
    </open>
  </layout>
  <layout type="page" id="color-right-side-page-open-linear">
    <open>
      <position>2</position>
    </open>
  </layout>
  <layout type="page" id="color-right-side-page-open-radial">
    <open>
      <position>3</position>
    </open>
  </layout>

  <!-- Scaled Color -->

  <layout id="color-scaled-page-contents" type="grid">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>3</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>4</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>color-scaled-page-contents-from</name>
    </append_row>
    <append_row>
      <name>color-scaled-page-contents-r</name>
    </append_row>
    <append_row>
      <name>color-scaled-page-contents-g</name>
    </append_row>
    <append_row>
      <name>color-scaled-page-contents-b</name>
    </append_row>
    <append_row>
      <name>color-scaled-page-contents-a</name>
    </append_row>
  </layout>

  <factory id="color-scaled-page-contents-from" type="grid">
    <element>
      <label type='theme_text'>${context:creator}Scaled From:</label>
    </element>
    <container>
      <name>color-scaled-page-from</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="color-scaled-page-from" type="editable_combobox" />

  <factory id="color-scaled-page-contents-r" type="grid">
    <element>
      <label type='theme_text'>${context:creator}Scale R:</label>
    </element>

    <element id='color-scaled-page-contents-r-value-field'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-scaled-page-contents-g" type="grid">
    <element>
      <label type='theme_text'>${context:creator}Scale G:</label>
    </element>

    <element id='color-scaled-page-contents-g-value-field'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-scaled-page-contents-b" type="grid">
    <element>
      <label type='theme_text'>${context:creator}Scale B:</label>
    </element>

    <element id='color-scaled-page-contents-b-value-field'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-scaled-page-contents-a" type="grid">
    <element>
      <label type='theme_text'>${context:creator}Scale A:</label>
    </element>

    <element id='color-scaled-page-contents-a-value-field'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <!-- Linear Gradient -->

  <layout id="color-linear-page-contents" type="grid">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <halign>
      <col>0</col>
      <halign>center</halign>
    </halign>
    <append_row>
      <name>color-linear-page-contents-top</name>
    </append_row>
    <append_row>
      <name>color-linear-page-values</name>
    </append_row>
  </layout>

  <factory id="color-linear-page-contents-top" type="grid">
    <container>
      <type>grid</type>
      <name>color-linear-page-contents-top-grid</name>
    </container>
  </factory>

  <dim id="color-gradient-values-padding">6</dim>

  <layout id="color-linear-page-contents-top-grid" type="grid">
    <halign>
      <col>0</col>
      <halign>right</halign>
    </halign>
    <halign>
      <col>2</col>
      <halign>right</halign>
    </halign>
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <padding>
      <side>left</side>
      <col>2</col>
      <padding>color-gradient-values-padding</padding>
    </padding>
    <append_row>
      <name>color-linear-page-contents-first</name>
    </append_row>
    <append_row>
      <name>color-linear-page-contents-second</name>
    </append_row>
    <append_row>
      <name>color-linear-page-contents-fixed</name>
    </append_row>
  </layout>

  <factory id="color-linear-page-contents-first" type="grid">
    <element>
      <label type='theme_text'>X1:</label>
    </element>

    <element id='color-linear-x1'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Y1:</label>
    </element>

    <element id='color-linear-y1'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-linear-page-contents-second" type="grid">
    <element>
      <label type='theme_text'>X2:</label>
    </element>

    <element id='color-linear-x2'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Y2:</label>
    </element>

    <element id='color-linear-y2'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-linear-page-contents-fixed" type="grid">
    <element>
      <label type='theme_text'>W:</label>
    </element>

    <element id='color-linear-width'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>H:</label>
    </element>

    <element id='color-linear-height'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-linear-page-values" type="grid">
    <container>
      <type>grid</type>
      <name>color-linear-page-values-grid</name>
    </container>
  </factory>

  <layout id="color-linear-page-values-grid" type="grid">
    <append_row>
      <name>color-gradient-table-header</name>
    </append_row>
    <append_row>
      <name>color-gradient-table-linear-footer</name>
    </append_row>
  </layout>

  <!-- Radial Gradient -->

  <layout id="color-radial-page-contents" type="grid">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>color-radial-page-contents-top</name>
    </append_row>
    <append_row>
      <name>color-radial-page-values</name>
    </append_row>
  </layout>

  <factory id="color-radial-page-contents-top" type="grid">
    <container>
      <type>grid</type>
      <name>color-radial-page-contents-top-grid</name>
    </container>
  </factory>

  <layout id="color-radial-page-contents-top-grid" type="grid">
    <halign>
      <col>0</col>
      <halign>right</halign>
    </halign>
    <halign>
      <col>2</col>
      <halign>right</halign>
    </halign>
    <halign>
      <col>4</col>
      <halign>right</halign>
    </halign>
    <halign>
      <col>6</col>
      <halign>right</halign>
    </halign>
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <padding>
      <side>left</side>
      <col>2</col>
      <padding>color-gradient-values-padding</padding>
    </padding>
    <padding>
      <side>left</side>
      <col>4</col>
      <padding>color-gradient-values-padding</padding>
    </padding>
    <padding>
      <side>left</side>
      <col>6</col>
      <padding>color-gradient-values-padding</padding>
    </padding>

    <append_row>
      <name>color-radial-page-contents-inner</name>
    </append_row>
    <append_row>
      <name>color-radial-page-contents-outer</name>
    </append_row>
    <append_row>
      <name>color-radial-page-fixed</name>
    </append_row>
  </layout>

  <factory id="color-radial-page-contents-inner" type="grid">
    <element>
      <label type='theme_text'>Inner X:</label>
    </element>

    <element id='color-radial-inner-x'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Y:</label>
    </element>

    <element id='color-radial-inner-y'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Radius:</label>
    </element>

    <element id='color-radial-inner-radius'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Axis:</label>
    </element>

    <container>
      <type>standard_combobox</type>
      <name>color-radial-inner-axis</name>
    </container>
  </factory>

  <layout type="standard_combobox" id="color-radial-inner-axis">
    <append_items>
      <items>
	<label type="theme_text">horizontal</label>
	<label type="theme_text">vertical</label>
	<label type="theme_text">shortest</label>
	<label type="theme_text">longest</label>
      </items>
    </append_items>
  </layout>

  <factory id="color-radial-page-contents-outer" type="grid">
    <element>
      <label type='theme_text'>Outer X:</label>
    </element>

    <element id='color-radial-outer-x'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Y:</label>
    </element>

    <element id='color-radial-outer-y'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Radius:</label>
    </element>

    <element id='color-radial-outer-radius'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>

    <element>
      <label type='theme_text'>Axis:</label>
    </element>

    <container>
      <type>standard_combobox</type>
      <name>color-radial-outer-axis</name>
    </container>
  </factory>

  <layout type="standard_combobox" id="color-radial-outer-axis">
    <append_items>
      <items>
	<label type="theme_text">horizontal</label>
	<label type="theme_text">vertical</label>
	<label type="theme_text">shortest</label>
	<label type="theme_text">longest</label>
      </items>
    </append_items>
  </layout>

  <factory id="color-radial-page-fixed" type="grid">
    <colspan>
      <columns>3</columns>
    </colspan>
    <element>
      <label type="theme_text">Fixed Width:</label>
    </element>
    <element id='color-radial-fixed-width'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
    <element>
      <label type="theme_text">Height:</label>
    </element>
    <colspan>
      <columns>3</columns>
    </colspan>
    <element id='color-radial-fixed-height'>
      <input_field />
      <config>
	<columns>10</columns>
      </config>
    </element>
  </factory>

  <factory id="color-radial-page-values" type="grid">
    <colspan>
      <columns>3</columns>
    </colspan>
    <halign>center</halign>
    <container>
      <type>grid</type>
      <name>color-radial-page-values-grid</name>
    </container>
  </factory>

  <layout id="color-radial-page-values-grid" type="grid">
    <append_row>
      <name>color-gradient-table-header</name>
    </append_row>
    <append_row>
      <name>color-gradient-table-radial-footer</name>
    </append_row>
  </layout>

  <factory id="color-gradient-table-header" type="grid">
    <element>
      <label type="theme_text">${context:creator}Value</label>
    </element>
    <colspan>
      <columns>2</columns>
    </colspan>
    <element>
      <label type="theme_text">${context:creator}Color</label>
    </element>
  </factory>

  <factory id="color-gradient-table-linear-footer" type="grid">
    <colspan>
      <columns>3</columns>
    </colspan>

    <element id="color-add-linear-gradient-button">
      <button>
	<element>
	  <label type="theme_text">${context:color}${decoration:underline}A${decoration:none}dd</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:addcolor}Alt-A</shortcut>
    </element>
  </factory>

  <factory id="color-gradient-table-radial-footer" type="grid">
    <colspan>
      <columns>3</columns>
    </colspan>
    <element id="color-add-radial-gradient-button">
      <button>
	<element>
	  <label type="theme_text">${context:color}${decoration:underline}A${decoration:none}dd</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:addcolor}Alt-A</shortcut>
    </element>
  </factory>

  <!-- Bottom section: update/delete/reset buttons -->

  <factory id="colors-bottom-row" type="grid">
    <halign>center</halign>
    <colspan>
      <columns>2</columns>
    </colspan>

    <padding>
      <side>top</side>
      <padding>none</padding>
    </padding>

    <padding>
      <side>bottom</side>
      <padding>none</padding>
    </padding>
    <container>
      <type>grid</type>
      <name>colors-bottom-row-container</name>
    </container>
  </factory>

  <layout id="colors-bottom-row-container" type="grid">
    <append_row>
      <name>colors-buttons</name>
    </append_row>
  </layout>

  <factory type="grid" id="colors-buttons">
    <element id="color_update_button">
      <button>
	<element>
	  <label type="theme_text">${context:color}${decoration:underline}U${decoration:none}pdate</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:color}Alt-U</shortcut>
    </element>
    <element id="color_reset_button">
      <button>
	<element>
	  <label type="theme_text">${context:color}${decoration:underline}R${decoration:none}eset</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:color}Alt-R</shortcut>
    </element>
    <element id="color_delete_button">
      <button>
	<element>
	  <label type="theme_text">${context:color}D${decoration:underline}e${decoration:none}lete</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:color}Alt-E</shortcut>
    </element>
  </factory>

  <!-- Borders page -->

  <layout type="grid" id="borders_page">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>

    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>

    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>

    <append_row>
      <name>borders-top-half</name>
    </append_row>
    <append_row>
      <name>borders-sizes-row</name>
    </append_row>
    <append_row>
      <name>borders-bottom-row</name>
    </append_row>
  </layout>

  <!-- Border: Top half, preview on the left, border properties on the right -->

  <factory type="grid" id="borders-top-half">
    <halign>center</halign>
    <container>
      <name>border_preview_cell_border_container</name>
      <type>border</type>
      <config>
	<title type='theme_text'>${context:creator}Preview</title>
	<appearance>border-preview-frame-appearance</appearance>
      </config>
    </container>
    <container>
      <name>borders_details</name>
      <type>grid</type>
    </container>
  </factory>

  <layout type="border" id="border_preview_cell_border_container">
    <replace>border_preview_grid_factory</replace>
  </layout>

  <factory type="factory" id="border_preview_grid_factory">
    <container>
      <name>border_preview_grid</name>
      <type>grid</type>
    </container>
  </factory>

  <appearance type="frame" id="border-preview-frame-appearance">
    <hpad>border-preview-frame-pad</hpad>
    <vpad>border-preview-frame-pad</vpad>
  </appearance>

  <dim id="border-preview-frame-pad">2</dim>

  <!--
      Inside the border_preview_cell_border_container there's a grid three
      rows and three columns with the preview border container in the
      center square. The outer squares provide extra padding such as the
      center square has room to grow and shrink.

      This allows for borders of varying sizes to slightly grow and shrink in
      the border_preview_cell_border_container, without changing the metrics.

  -->

  <layout id="border_preview_grid" type="grid">
    <append_row>
      <name>border_preview_grid_top_bottom_row</name>
    </append_row>
    <append_row>
      <name>border_preview_grid_middle_row</name>
    </append_row>
    <append_row>
      <name>border_preview_grid_top_bottom_row</name>
    </append_row>
  </layout>

  <factory id="border_preview_grid_top_bottom_row" type="grid">
    <colspan>
      <columns>3</columns>
    </colspan>
    <element>
      <canvas>
	<width>border-preview-cell-canvas-padded-width</width>
	<height>none</height>
      </canvas>
    </element>
  </factory>

  <factory id="border_preview_grid_middle_row" type="grid">
    <element>
      <canvas>
	<width>none</width>
	<height>border-preview-cell-canvas-padded-height</height>
      </canvas>
    </element>
    <halign>center</halign>
    <valign>middle</valign>
    <container>
      <name>border_preview</name>
      <type>border</type>
    </container>
    <element>
      <canvas>
	<width>none</width>
	<height>border-preview-cell-canvas-padded-height</height>
      </canvas>
    </element>
  </factory>

  <!-- Size of the preview border -->

  <dim id="border-preview-cell-canvas-width">20</dim>
  <dim id="border-preview-cell-canvas-height">20</dim>

  <!-- Size of the padding for the preview border, should be slightly more -->

  <dim id="border-preview-cell-canvas-padded-width">30</dim>
  <dim id="border-preview-cell-canvas-padded-height">30</dim>

  <layout type="border" id="border_preview">
    <replace>border_preview_cell_canvas_factory</replace>
  </layout>

  <factory type="factory" id="border_preview_cell_canvas_factory">
    <element>
      <canvas>
	<width>border-preview-cell-canvas-width</width>
	<height>border-preview-cell-canvas-height</height>
      </canvas>
    </element>
  </factory>

  <!-- Border: border details -->

  <layout type="grid" id="borders_details">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>3</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>4</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>5</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>6</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>7</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>borders-name-row</name>
    </append_row>
    <append_row>
      <name>new-borders-name-row</name>
    </append_row>
    <append_row>
      <name>borders-from-row</name>
    </append_row>
    <append_row>
      <name>borders-color-row</name>
    </append_row>
    <append_row>
      <name>borders-dashes-option-row</name>
    </append_row>
    <append_row>
      <name>borders-dashes-row</name>
    </append_row>
    <append_row>
      <name>borders-color2-row</name>
    </append_row>
    <append_row>
      <name>borders-rounded-row</name>
    </append_row>
  </layout>

  <!-- Border: Name -->
  <factory type="grid" id="borders-name-row">
    <halign>right</halign>
    <element>
      <label type='theme_text'>${context:creator}Name:</label>
    </element>
    <container>
      <name>border_name_field</name>
      <type>standard_combobox</type>
    </container>
  </factory>

  <layout id="border_name_field" type="standard_combobox" />

  <!-- Border: New name -->
  <factory type="grid" id="new-borders-name-row">
    <halign>right</halign>
    <element id="border_new_name_label">
      <label type='theme_text'>${context:creator}New name:</label>
    </element>
    <element id="border_new_name_field">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
  </factory>

  <!-- Border: From -->
  <factory type="grid" id="borders-from-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}From:</label>
    </element>
    <container>
      <name>border_from_name</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="border_from_name" type="editable_combobox" />

  <!-- Border: Color -->

  <factory type="grid" id="borders-color-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Color:</label>
    </element>
    <container>
      <name>border_color</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="border_color" type="editable_combobox" />

  <!-- Border: 2nd color -->

  <factory type="grid" id="borders-color2-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}2nd Color:</label>
    </element>
    <container tooltip="border-color2-tooltip">
      <name>border_color2</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="border_color2" type="editable_combobox" />

  <tooltip type="label" id="border-color2-tooltip">
    <label type="theme_text">Optional alternate color&#10;for dashed borders</label>
  </tooltip>

  <!-- Border: Dashed option -->

  <factory type="grid" id="borders-dashes-option-row">
    <element>
      <canvas />
    </element>
    <element id="border_dashes_option">
      <checkbox>
	<element>
	  <label type="theme_text">Dashes</label>
	</element>
      </checkbox>
    </element>
  </factory>

  <!-- Border: Dashes -->

  <factory type="grid" id="borders-dashes-row">
    <halign>right</halign>

    <element>
      <label type="theme_text">${context:creator}Dash Size(s):</label>
    </element>

    <element id="border_dashes_field" tooltip="border-dashes-field-tooltip">
      <input_field />
        <config>
	  <columns>20</columns>
	</config>
    </element>
  </factory>

  <tooltip type="label" id="border-dashes-field-tooltip">
    <label type="theme_text">Length in millimeters, separate&#10;multiple values with semicolons or spaces</label>
  </tooltip>

  <!-- Border: Rounded corners -->

  <factory type="grid" id="borders-rounded-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Rounded Corners:</label>
    </element>
    <padding>
      <side>all</side>
      <padding>none</padding>
    </padding>
    <container>
      <name>border_rounded_corner_container</name>
      <type>grid</type>
    </container>
  </factory>

  <layout type="grid" id="border_rounded_corner_container">
    <append_row>
      <name>border_rounded_corner_default_row</name>
    </append_row>
    <append_row>
      <name>border_rounded_corner_yes_row</name>
    </append_row>
    <append_row>
      <name>border_rounded_corner_no_row</name>
    </append_row>
  </layout>
  <factory type="grid" id="border_rounded_corner_default_row">
    <element id="border_rounded_corner_default">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}Default</label>
	</element>
      </radio>
      <group>border-rounded-corner-group</group>
    </element>
  </factory>

  <factory type="grid" id="border_rounded_corner_yes_row">
    <element id="border_rounded_corner_yes">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}Yes</label>
	</element>
      </radio>
      <group>border-rounded-corner-group</group>
    </element>
  </factory>

  <factory type="grid" id="border_rounded_corner_no_row">
    <element id="border_rounded_corner_no">
      <radio>
	<element>
	  <label type="theme_text">${context:creator}No</label>
	</element>
      </radio>
      <group>border-rounded-corner-group</group>
    </element>
  </factory>

  <!-- Border: Sizes section -->
  <factory type="grid" id="borders-sizes-row">
    <padding>
      <side>all</side>
      <padding>none</padding>
    </padding>
    <halign>center</halign>
    <colspan>
      <columns>2</columns>
    </colspan>

    <container>
      <name>border-sizes-container</name>
      <type>border</type>
      <config>
	<title type='theme_text'>${context:creator}Border Size</title>
      </config>
    </container>
  </factory>

  <layout id="border-sizes-container" type="border">
    <replace>border-sizes-rows-factory</replace>
  </layout>

  <factory id="border-sizes-rows-factory" type="factory">
    <container>
      <name>borders-sizes-rows</name>
      <type>grid</type>
    </container>
  </factory>

  <!-- Rows for border sizes -->

  <layout id="borders-sizes-rows" type="grid">

    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>3</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>border_sizes_width</name>
    </append_row>
    <append_row>
      <name>border_sizes_height</name>
    </append_row>
    <append_row>
      <name>border_sizes_hradius</name>
    </append_row>
    <append_row>
      <name>border_sizes_vradius</name>
    </append_row>
  </layout>

  <factory type="grid" id="border_sizes_width">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Width:</label>
    </element>
    <container tooltip="border-size-tooltip">
      <name>border_width</name>
      <type>editable_combobox</type>
    </container>

    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Scale Width:</label>
    </element>
    <element id="border_width_scale">
      <input_field />
        <config>
	  <columns>10</columns>
	</config>
    </element>
  </factory>

  <layout id="border_width" type="editable_combobox" />

  <factory type="grid" id="border_sizes_height">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Height:</label>
    </element>
    <container tooltip="border-size-tooltip">
      <name>border_height</name>
      <type>editable_combobox</type>
    </container>

    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Scale Height:</label>
    </element>
    <element id="border_height_scale">
      <input_field />
        <config>
	  <columns>10</columns>
	</config>
    </element>
  </factory>

  <layout id="border_height" type="editable_combobox" />

  <factory type="grid" id="border_sizes_hradius">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Corner Radius (H):</label>
    </element>
    <container tooltip="border-size-tooltip">
      <name>border_hradius</name>
      <type>editable_combobox</type>
    </container>

    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Scale Radius (H):</label>
    </element>
    <element id="border_hradius_scale">
      <input_field />
        <config>
	  <columns>10</columns>
	</config>
    </element>
  </factory>

  <layout id="border_hradius" type="editable_combobox" />

  <factory type="grid" id="border_sizes_vradius">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Corner Radius (V):</label>
    </element>
    <container tooltip="border-size-tooltip">
      <name>border_vradius</name>
      <type>editable_combobox</type>
    </container>

    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Scale Radius (V):</label>
    </element>
    <element id="border_vradius_scale">
      <input_field />
        <config>
	  <columns>10</columns>
	</config>
    </element>
  </factory>

  <layout id="border_vradius" type="editable_combobox" />

  <tooltip type="label" id="border-size-tooltip">
    <label type="theme_text">Select a predefined dimension or&#10;enter a numerical value in millimeters</label>
  </tooltip>

  <!-- Bottom section: update/delete/reset buttons -->

  <factory id="borders-bottom-row" type="grid">
    <halign>center</halign>
    <colspan>
      <columns>2</columns>
    </colspan>

    <padding>
      <side>top</side>
      <padding>none</padding>
    </padding>

    <padding>
      <side>bottom</side>
      <padding>none</padding>
    </padding>
    <container>
      <type>grid</type>
      <name>borders-bottom-row-container</name>
    </container>
  </factory>

  <layout id="borders-bottom-row-container" type="grid">
    <append_row>
      <name>borders-buttons</name>
    </append_row>
  </layout>

  <factory type="grid" id="borders-buttons">
    <element id="border_update_button">
      <button>
	<element>
	  <label type="theme_text">${context:border}${decoration:underline}U${decoration:none}pdate</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:border}Alt-U</shortcut>
    </element>
    <element id="border_reset_button">
      <button>
	<element>
	  <label type="theme_text">${context:border}${decoration:underline}R${decoration:none}eset</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:border}Alt-R</shortcut>
    </element>
    <element id="border_delete_button">
      <button>
	<element>
	  <label type="theme_text">${context:border}D${decoration:underline}e${decoration:none}lete</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:border}Alt-E</shortcut>
    </element>
  </factory>

  <!-- Fonts page -->

  <layout type="grid" id="fonts_page">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>

    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>

    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>

    <append_row>
      <name>fonts-top-half</name>
    </append_row>
    <append_row>
      <name>fonts-bottom-row</name>
    </append_row>
  </layout>

  <!-- Font: Top half, preview on the left, font properties on the right -->

  <factory type="grid" id="fonts-top-half">
    <halign>center</halign>
    <element>
      <name>font_preview_container</name>
    </element>
    <container>
      <name>fonts_details</name>
      <type>grid</type>
    </container>
  </factory>

  <appearance id="font-preview-appearance" type="font_picker">
  </appearance>

  <!-- Font: font details -->

  <layout type="grid" id="fonts_details">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>3</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>4</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>5</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>6</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>7</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>8</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>9</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>10</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>fonts-name-row</name>
    </append_row>
    <append_row>
      <name>new-fonts-name-row</name>
    </append_row>
    <append_row>
      <name>fonts-from-row</name>
    </append_row>
    <append_row>
      <name>fonts-family-row</name>
    </append_row>
    <append_row>
      <name>fonts-size-row</name>
    </append_row>
    <append_row>
      <name>fonts-foundry-row</name>
    </append_row>
    <append_row>
      <name>fonts-style-row</name>
    </append_row>
    <append_row>
      <name>fonts-weight-row</name>
    </append_row>
    <append_row>
      <name>fonts-spacing-row</name>
    </append_row>
    <append_row>
      <name>fonts-slant-row</name>
    </append_row>
    <append_row>
      <name>fonts-width-row</name>
    </append_row>
  </layout>

  <!-- Font: Name -->
  <factory type="grid" id="fonts-name-row">
    <halign>right</halign>
    <element>
      <label type='theme_text'>${context:creator}Name:</label>
    </element>
    <container>
      <name>font_name_field</name>
      <type>standard_combobox</type>
    </container>
  </factory>

  <layout id="font_name_field" type="standard_combobox" />

  <!-- Font: New name -->
  <factory type="grid" id="new-fonts-name-row">
    <halign>right</halign>
    <element id="font_new_name_label">
      <label type='theme_text'>${context:creator}New name:</label>
    </element>
    <element id="font_new_name_field">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
  </factory>

  <!-- Font: From -->
  <factory type="grid" id="fonts-from-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}From:</label>
    </element>
    <container>
      <name>font_from_name</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_from_name" type="editable_combobox" />

  <!-- Font: Family -->
  <factory type="grid" id="fonts-family-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Family:</label>
    </element>
    <container>
      <name>font_family</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_family" type="editable_combobox" />

  <!-- Font: Size -->
  <factory type="grid" id="fonts-size-row">
    <halign>right</halign>
    <container>
      <name>font_size_type</name>
      <type>standard_combobox</type>
    </container>
    <container>
      <name>font_size</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_size_type" type="standard_combobox" />

  <layout id="font_size" type="editable_combobox" />

  <!-- Font: Foundry -->
  <factory type="grid" id="fonts-foundry-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Foundry:</label>
    </element>
    <element id="font_foundry">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
  </factory>

  <!-- Font: Style -->
  <factory type="grid" id="fonts-style-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Style:</label>
    </element>
    <element id="font_style">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
  </factory>

  <!-- Font: Weight -->
  <factory type="grid" id="fonts-weight-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Weight:</label>
    </element>
    <container>
      <name>font_weight</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_weight" type="editable_combobox" />

  <!-- Font: Spacing -->
  <factory type="grid" id="fonts-spacing-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Spacing:</label>
    </element>
    <container>
      <name>font_spacing</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_spacing" type="editable_combobox" />

  <!-- Font: Slant -->
  <factory type="grid" id="fonts-slant-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Slant:</label>
    </element>
    <container>
      <name>font_slant</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_slant" type="editable_combobox" />

  <!-- Font: Width -->
  <factory type="grid" id="fonts-width-row">
    <halign>right</halign>
    <element>
      <label type="theme_text">${context:creator}Width:</label>
    </element>
    <container>
      <name>font_width</name>
      <type>editable_combobox</type>
    </container>
  </factory>

  <layout id="font_width" type="editable_combobox" />

  <!-- Bottom section: update/delete/reset buttons -->

  <factory id="fonts-bottom-row" type="grid">
    <halign>center</halign>
    <colspan>
      <columns>2</columns>
    </colspan>

    <padding>
      <side>top</side>
      <padding>none</padding>
    </padding>

    <padding>
      <side>bottom</side>
      <padding>none</padding>
    </padding>
    <container>
      <type>grid</type>
      <name>fonts-bottom-row-container</name>
    </container>
  </factory>

  <layout id="fonts-bottom-row-container" type="grid">
    <append_row>
      <name>fonts-buttons</name>
    </append_row>
  </layout>

  <factory type="grid" id="fonts-buttons">
    <element id="font_update_button">
      <button>
	<element>
	  <label type="theme_text">${context:font}${decoration:underline}U${decoration:none}pdate</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:font}Alt-U</shortcut>
    </element>
    <element id="font_reset_button">
      <button>
	<element>
	  <label type="theme_text">${context:font}${decoration:underline}R${decoration:none}eset</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:font}Alt-R</shortcut>
    </element>
    <element id="font_delete_button">
      <button>
	<element>
	  <label type="theme_text">${context:font}D${decoration:underline}e${decoration:none}lete</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:font}Alt-E</shortcut>
    </element>
  </factory>

  <!-- Appearances page -->

  <layout type="grid" id="appearances_page">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>

    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>appearances-name-row</name>
    </append_row>
    <append_row>
      <name>new-appearances-name-row</name>
    </append_row>
    <append_row>
      <name>appearance-contents-row</name>
    </append_row>
  </layout>

  <!-- Appearance: Name -->
  <factory type="grid" id="appearances-name-row">
    <halign>right</halign>
    <element>
      <label type='theme_text'>${context:creator}Name:</label>
    </element>
    <colspan>
      <columns>5</columns>
    </colspan>
    <container>
      <name>appearance_name_field</name>
      <type>standard_combobox</type>
      <config>
	<columns>2</columns>
      </config>
    </container>
  </factory>

  <layout id="appearance_name_field" type="standard_combobox" />

  <!-- Appearance: New name -->

  <factory type="grid" id="new-appearances-name-row">
    <halign>right</halign>
    <element id="appearance_new_name_label">
      <label type='theme_text'>${context:creator}New name:</label>
    </element>
    <element id="appearance_new_name_field">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
    <element id="appearance_new_name_label2">
      <label>(</label>
    </element>
    <container>
      <name>appearance_new_type_field</name>
      <type>standard_combobox</type>
    </container>
    <element id="appearance_new_name_label3">
      <label>)</label>
    </element>
    <element id="appearance_new_create">
      <button>
	<element>
	  <label type="theme_text">${context:appearance}Create</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
    </element>
  </factory>

  <layout id="appearance_new_type_field" type="standard_combobox" />

  <!--
      Appearance: Contents row

      The container showing the contents of the currently selected appearance

      Uses the page layout manager, with two pages: the list of current
      appearance values, and a page where a new value is modified or an
      existing value is modified.
  -->

  <factory type="grid" id="appearance-contents-row">
    <halign>center</halign>
    <colspan>
      <columns>6</columns>
    </colspan>
    <container>
      <name>appearance_contents_page</name>
      <type>page</type>
    </container>
  </factory>

  <layout type="page" id="appearance_contents_page">
    <append>
      <name>appearance_contents_page_factory</name>
    </append>
  </layout>

  <factory type="page" id="appearance_contents_page_factory">
    <container>
      <name>appearance_values_page</name>
      <type>grid</type>
    </container>
  </factory>

  <!-- Page 0: show appearance contents -->

  <layout type="page" id="appearance_values_show">
    <open>
      <position>0</position>
    </open>
  </layout>

  <!-- Contents of the currently selected appearance -->

  <layout type="grid" id="appearance_values_page">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>2</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>appearance-contents-from-row</name>
    </append_row>
    <append_row>
      <name>appearance-contents-values-row</name>
    </append_row>
    <append_row>
      <name>appearance-contents-buttons-row</name>
    </append_row>
  </layout>

  <factory type="grid" id="appearance-contents-from-row">
    <element>
      <label>${context:appearance}Based On:</label>
    </element>

    <container>
      <name>appearance_based_on_field</name>
      <type>standard_combobox</type>
    </container>
  </factory>

  <layout id="appearance_based_on_field" type="standard_combobox" />

  <factory type="grid" id="appearance-contents-values-row">
    <element>
      <canvas />
    </element>

    <container>
      <name>appearance_values</name>
      <type>table</type>
      <config>
	<columns>2</columns>
	<height>
	  <min_rows>8</min_rows>
	  <max_rows>8</max_rows>
	</height>

	<lr_padding>
	  <column>0</column>
	  <left>appearance_value_padding</left>
	  <right>appearance_value_padding</right>
	</lr_padding>
	<lr_padding>
	  <column>1</column>
	  <left>appearance_value_padding</left>
	  <right>appearance_value_padding</right>
	</lr_padding>
      </config>
      <header>
	<element>
	  <label type='theme_text'>${context:appearance}Field</label>
	</element>
      </header>
      <header>
	<element>
	  <label type='theme_text'>${context:appearance}Value</label>
	</element>
      </header>

      <context id="appearance_values_popup">
	<menu>
	  <append_items>
	    <items>
	      <name>appearance_value_move_up</name>
	      <shortcut>Alt-Up</shortcut>
	      <label type='theme_text'>${context:appearance}Move Up</label>
	      <name>appearance_value_move_down</name>
	      <shortcut>Alt-Down</shortcut>
	      <label type='theme_text'>${context:appearance}Move Down</label>
	      <name>appearance_value_update</name>
	      <label type='theme_text'>${context:appearance}Update</label>
	      <name>appearance_value_create</name>
	      <submenu />
	      <label type='theme_text'>${context:appearance}Create</label>
	      <name>appearance_value_delete</name>
	      <shortcut>Del</shortcut>
	      <label type='theme_text'>${context:appearance}Delete</label>
	    </items>
	  </append_items>
	</menu>
	<shortcut type='theme_text'>${context:appearance-list}Alt-M</shortcut>
      </context>
    </container>
  </factory>

  <dim id="appearance_value_padding">2</dim>

  <layout id="appearance_values" type="table" />

  <!-- Appearance: Update/Reset/Delete buttons -->

  <factory type="grid" id="appearance-contents-buttons-row">
    <element>
      <canvas />
    </element>

    <container>
      <type>grid</type>
      <name>appearance-contents-buttons-container</name>
    </container>
  </factory>

  <layout type="grid" id="appearance-contents-buttons-container">
    <append_row>
      <name>appearance-contents-buttons</name>
    </append_row>
  </layout>

  <factory type="grid" id="appearance-contents-buttons">
    <element id="appearance_update_button">
      <button>
	<element>
	  <label type="theme_text">${context:appearance}${decoration:underline}U${decoration:none}pdate</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:appearance}Alt-U</shortcut>
    </element>
    <element id="appearance_reset_button">
      <button>
	<element>
	  <label type="theme_text">${context:appearance}${decoration:underline}R${decoration:none}eset</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:appearance}Alt-R</shortcut>
    </element>
    <element id="appearance_delete_button">
      <button>
	<element>
	  <label type="theme_text">${context:appearance}D${decoration:underline}e${decoration:none}lete</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:appearance}Alt-E</shortcut>
    </element>
  </factory>

  <!-- Generators page -->

  <layout type="grid" id="generators_page">
    <valign>
      <row>0</row>
      <valign>middle</valign>
    </valign>
    <valign>
      <row>1</row>
      <valign>middle</valign>
    </valign>
    <append_row>
      <name>generator-name-row</name>
    </append_row>
    <append_row>
      <name>new_generator-name-row</name>
    </append_row>
    <append_row>
      <name>generator-contents-values-row</name>
    </append_row>
  </layout>

  <factory type="grid" id="generator-name-row">
    <halign>right</halign>
    <element>
      <label type='theme_text'>${context:generator}Name:</label>
    </element>
    <colspan>
      <columns>4</columns>
    </colspan>
    <container>
      <name>generator_name_field</name>
      <type>standard_combobox</type>
      <config>
	<columns>2</columns>
      </config>
    </container>
  </factory>

  <layout id="generator_name_field" type="standard_combobox" />

  <factory type="grid" id="new_generator-name-row">
    <halign>right</halign>
    <element id="generator_new_name_label">
      <label type='theme_text'>${context:generator}New name:</label>
    </element>
    <element id="generator_new_name_field">
      <input_field />
        <config>
	  <columns>30</columns>
	</config>
    </element>
    <halign>right</halign>
    <element id="generator_new_type_label">
      <label type='theme_text'>${context:generator}Type:</label>
    </element>
    <container>
      <name>generator_new_type_field</name>
      <type>standard_combobox</type>
    </container>
    <element id="generator_new_create">
      <button>
	<element>
	  <label type="theme_text">${context:generators}Create</label>
	</element>
      </button>
    </element>
  </factory>

  <layout id="generator_new_type_field" type="standard_combobox" />

  <factory type="grid" id="generator-contents-values-row">
    <halign>center</halign>
    <element>
      <canvas />
    </element>
    <padding>
      <side>all</side>
      <padding>none</padding>
    </padding>
    <colspan>
      <columns>3</columns>
    </colspan>
    <container>
      <name>generator_contents_values_grid</name>
      <type>grid</type>
    </container>
  </factory>

  <layout type="grid" id="generator_contents_values_grid">
    <append_row>
      <name>generator_contents_values_grid_values</name>
    </append_row>
    <append_row>
      <name>generator_contents_values_grid_buttons_row</name>
    </append_row>
  </layout>

  <factory type="grid" id="generator_contents_values_grid_values">
    <container>
      <name>generator_contents_values</name>
      <type>list</type>
      <config>
	<height>
	  <min_rows>8</min_rows>
	  <max_rows>8</max_rows>
	</height>
	<width>
	  <min>generator_values_list_width</min>
	  <preferred>generator_values_list_width</preferred>
	  <max>generator_values_list_width</max>
	</width>
      </config>
      <context id="generator_contents_values_popup">
	<menu>
	  <append_items>
	    <items>
	      <name>generator_value_move_up</name>
	      <shortcut>Alt-Up</shortcut>
	      <label type='theme_text'>${context:generator}Move Up</label>
	      <name>generator_value_move_down</name>
	      <shortcut>Alt-Down</shortcut>
	      <label type='theme_text'>${context:generator}Move Down</label>
	      <name>generator_value_update</name>
	      <label type='theme_text'>${context:generator}Update</label>
	      <name>generator_value_create</name>
	      <submenu />
	      <label type='theme_text'>${context:generator}Create</label>
	      <name>generator_value_delete</name>
	      <shortcut>Del</shortcut>
	      <label type='theme_text'>${context:generator}Delete</label>
	    </items>
	  </append_items>
	</menu>
	<shortcut type='theme_text'>${context:generator-list}Alt-M</shortcut>
      </context>
    </container>
  </factory>

  <dim id="generator_values_list_width">120</dim>

  <layout type="list" id="generator_contents_values" />

  <factory type="grid" id="generator_contents_values_grid_buttons_row">
    <padding>
      <side>all</side>
      <padding>none</padding>
    </padding>

    <container>
      <name>generator_contents_values_grid_buttons_layout</name>
      <type>grid</type>
    </container>
  </factory>

  <layout type="grid" id="generator_contents_values_grid_buttons_layout">
    <append_row>
      <name>generator_contents_values_grid_buttons</name>
    </append_row>
  </layout>

  <factory type="grid" id="generator_contents_values_grid_buttons">
    <element id="generator_update">
      <button>
	<element>
	  <label type="theme_text">${context:generator}${decoration:underline}U${decoration:none}pdate</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:generator}Alt-U</shortcut>
    </element>
    <element id="generator_reset">
      <button>
	<element>
	  <label type="theme_text">${context:generator}${decoration:underline}R${decoration:none}eset</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:generator}Alt-R</shortcut>
    </element>
    <padding>
      <side>top</side>
      <padding>none</padding>
    </padding>
    <element id="generator_delete">
      <button>
	<element>
	  <label type="theme_text">${context:generator}D${decoration:underline}e${decoration:none}lete</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:generator}Alt-E</shortcut>
    </element>
  </factory>

  <!-- Generator function edit dialog -->

  <layout id="generator_edit_title" type="grid">
    <append_row>
      <name>generator_edit_title_row</name>
    </append_row>
  </layout>

  <dim id="generator_edit_title_vert_padding">3.0</dim>

  <factory id="generator_edit_title_row" type="grid">
    <element>
      <canvas/>
    </element>
    <halign>center</halign>
    <padding>
      <side>top</side>
      <padding>generator_edit_title_vert_padding</padding>
    </padding>
    <padding>
      <side>bottom</side>
      <padding>generator_edit_title_vert_padding</padding>
    </padding>
    <padding>
      <side>right</side>
      <padding>generator_edit_title_vert_padding</padding>
    </padding>
    <element>
      <name>title</name>
    </element>
  </factory>

  <layout id="generator_edit_buttons" type="grid">
    <append_row>
      <name>generator_edit_buttons_row</name>
    </append_row>
  </layout>

  <factory id="generator_edit_buttons_row" type="grid">
    <element>
      <canvas/>
    </element>
    <padding>
      <side>top</side>
      <padding>generator_edit_title_vert_padding</padding>
    </padding>

    <container>
      <name>generator_edit_button_container</name>
      <type>grid</type>
    </container>
  </factory>

  <layout id="generator_edit_button_container" type="grid">
    <append_row>
      <name>generator_edit_button_container_row</name>
    </append_row>
  </layout>

  <factory id="generator_edit_button_container_row" type="grid">

    <element id="generator_edit_cancel">
      <button>
	<element>
	  <label type="theme_text">${context:generator_edit}Cancel</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:generator_edit}Esc</shortcut>
    </element>

    <element id="generator_edit_save">
      <button>
	<element>
	  <label type="theme_text">${context:generator_edit}${decoration:underline}S${decoration:none}ave</label>
	</element>
      </button>
      <config>
	<appearance>normal_theme</appearance>
      </config>
      <shortcut type='theme_text'>${context:generator_edit}Alt-S</shortcut>
    </element>
  </factory>
</theme>
